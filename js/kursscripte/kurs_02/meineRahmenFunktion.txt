function DoggyRound(round, dog){
    var saveType = function(type){sessionStorage.setItem("doggy_lastType", type);};
    var restoreType = function(){return sessionStorage.getItem("doggy_lastType");}
    var savePosition = function(pos){sessionStorage.setItem("doggy_lastPos", pos);};
    var restorePosition = function(){return sessionStorage.getItem("doggy_lastPos");}
    
    var lastType = "Nobody";
    var lastPos = 0;
    
    if(round !== 1){
        lastType = restoreType();
        lastPos = restorePosition();
    }
    
    var en = dog.GetEnergy();
    var hu = dog.GetHunger();
    var th = dog.GetThirst();
    
    var target = dog.Check();
    var type = target.GetType();
    saveType(type);
    var pos = target.GetPosition();
    savePosition(pos);
    
    var comming = target.IsComming();
    
    // Start
    
    // End
    // to be sure that dog is not idling or doing the wrong activity
    var a = dog.GetActivity();
    if(a === "idling" || a === "resting" || a === "eating" || a === "drinking"){
        if(hu < th)
            dog.Eat();
        else
            dog.Drink();
        if(en < hu && en < th)
            dog.Rest();
        
    }
}